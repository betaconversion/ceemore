{% extends "layout/main.html" %}
{% load static %}
{% block content %}

{% block styles %}

<style>
    .sendloader {
	position: fixed;
	width: 100%;
	height: 100%;
	top: 0;
	left: 0;
	z-index: 999999;
    background: rgba(0, 0, 0, 0.2);
    /*background: linear-gradient(180deg,rgba(8,14,31,0),#080e1f 80%,#080e1f);*/
}
.sendloader h5 {
     
    top: 60%;
    left: 47%;
    
    position: absolute;
    color: #850707;

}
.sendpreloader {
    width: 100px;
	height: 100px;
    top: 50%;
    left: 50%;
    width: 50px;
	height: 50px;
	position: absolute;
  border: 16px solid #ffffff; /* Light grey */
  border-top: 16px solid    #5a0909; /* Blue */
  border-bottom: 16px solid #2b940b; /* Blue */
  

  border-radius: 50%;
  
  animation: spin 2s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
 {% endblock styles %}


    <!-- Hero Section Begin -->
    <section class="hero-section set-bg" data-setbg="{% static 'img/contact-bg.jpg'%}">
        <div class="hero-text">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <h1>Contact</h1>
                      
                    </div>
                </div>
                <div class="page-nav">
                    <a href="/" class="left-nav"><i class="lnr lnr-arrow-left"></i> Home</a>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- Contact Section Begin -->
    <section  class="contact-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="contact-left">
                        <div class="contact-information">
                            <h2>Contact Information</h2>
                            <ul>
                                <li><i style="color: #850707;" class="fa fa-map-marker fa-2x" ></i><span>1525 Boring Lane, Los Angeles,
                                        CA</span></li>
                                <li><i style="color: #850707;" class="fa fa-phone fa-2x " ></i><span>+1 (603)535-4592</span></li>
                                <li><i style="color: #850707;" class=" fa fa-google fa-2x" ></i> <span>hello@youremail.com</span></li>
                                <li><i style="color: #850707;" class="fa fa-map-marker fa-2x" ></i> <span>Everyday: 06:00 -22:00</span></li>
                            </ul>
                        </div>
                        <div class="social-links">
                            <h2>Follow us on:</h2>
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                            <a href="#"><i class="fa fa-linkedin"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-youtube-play"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="contact-form">
                        <h5>Write us ...</h5>
                        <form method="POST" class="message-form">
                            <div class="row">
                                <div class="col-lg-12">
                                    <p>From</p>
                                    <div class="input-group">
                                        <input id="fuul-name" type="text" placeholder="Full Name">
                                        <!--i style="color: #850707;" class="fa fa-map-marker fa-2x" ></i-->
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="input-group">
                                        <input id="email-contact" type="email" placeholder="Email">
                                        <!--i style="color: #850707;" class="fa fa-map-marker fa-2x" ></i-->
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="input-group phone-num">
                                        <input id="contact-phone" type="text" placeholder="Phone">
                                        <!--i style="color: #850707;" class="fa fa-map-marker fa-2x" ></i-->
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="message">
                                        <p>Message</p>
                                        <div class="textarea">
                                            <textarea id="message" placeholder="Hi ..."></textarea>
                                          </div>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <button style="border: radius 2px; border: 2px solid #050e2c;" class="btn" type="submit">Send <i style="color:#850707;" class="fa fa-arrow-right"></i></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Contact Section End -->
    <!-- send loader -->
    <div id="loadercontent" style="display: none;" class=" ">
        <div class="sendloader">
            <div id="loadsend" class="sendpreloader"></div>
            <h5 >Processing...</h5>
        </div>
       
       
    </div>
   
    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            
            <div class="modal-body text-center text-primary">
               
                 <h4 id=body></h4>

            </div>
            
          </div>
        </div>

    <!-- Map Section Begin -->
    <div class="map">
        <iframe
            src="{% static 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d423283.4355676389!2d-118.69193052429003!3d34.02073049434915!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c2c75ddc27da13%3A0xe22fdf6f254608f4!2sLos%20Angeles%2C%20CA%2C%20USA!5e0!3m2!1sen!2sbd!4v1568665689853!5m2!1sen!2sbd"
            height="560" style="border:0;" allowfullscreen=""></iframe>
    </div>
    <!-- Map Section End -->
    {% block javascripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <script>
       
            function getCookie(name) {
                let cookieValue = null;
                if (document.cookie && document.cookie !== '') {
                    const cookies = document.cookie.split(';');
                    for (let i = 0; i < cookies.length; i++) {
                        const cookie = cookies[i].trim();
                        // Does this cookie string begin with the name we want?
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }
            const csrftoken = getCookie('csrftoken');
         
         $(document).ready(function () {
             $(".message-form").submit(function (event) {
                 event.preventDefault();
                 //$("#loadercontent").show();
                $.ajax({
                    type: "POST",
                    url: "/jsons-message/",
                    data: {
                        email:$("#email-contact").val() ,
                        fuul_name:$("#fuul-name").val(),
                        phone:$("#contact-phone").val(),
                        message:$("#message").val(),
                         
                        csrfmiddlewaretoken: csrftoken,
                    },
                    beforeSend: function() {
                            // setting a timeout
                            $("#loadercontent").show();
                            
                        },
                    success: function(data) {
                        document.getElementById("body").innerText = data.context
                        //alert(data.user);
                        $("#exampleModalCenter").modal('show');
                        setTimeout(function(){ window.location.reload(); },1300);
                       
    
                    },
                    complete: function() {
                        $("#loadercontent").hide();
                    }
                });
             })
         })
    </script>
    
    {% endblock javascripts %}



    {% endblock content %}